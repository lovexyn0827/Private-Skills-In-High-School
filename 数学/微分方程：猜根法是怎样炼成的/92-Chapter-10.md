# 十：太长不看

试着在一千来字以内把能交代的都交代完。

> 同学，积分学过了吗？如果还没有，可以先去第负一章速通一下。
>
> 如果OK了，那就让我们开始吧！

微分方程是一种含有函数及其导数的方程，其解是一个函数，里边最高阶导数的阶数为微分方程的阶数。例如下面是一个二阶微分方程：
$$
f''(x)+2e^xf'(x)+\sin f(x)=\ln (x+1)\tag{10.1}
$$

> 当然，这只是一个为了举例而举的例子，这里我们实际上不会用到这么吓人的方程。

先给出一个特别通用的求根公式：

对方程
$$
f'(x)=f(x)g(x)+h(x)\tag{10.2}
$$
有
$$
f(x)=e^{\int g(x)\cdot dx}\int e^{-\int g(x)\cdot dx}h(x)\cdot dx\tag{10.3}
$$

> 至于具体怎么解的……猜的，真的是猜的！

……貌似还是有些恐怖。实际上，这么一般的方程我们也用不到。我们可以令$g(x)=c$，这样方程就变成了
$$
f'(x)=cf(x)+h(x)\tag{10.4}
$$
这样方程的解就可以写成
$$
f(x)=Ae^{cx}\int e^{-cx}h(x)\cdot dx\tag{10.5}
$$
其中$A$是任意常数。

这样，方程就显得漂亮多了。

另一个简洁化的方向：
$$
f'(x)=g(x)f(x)\tag{10.5.1}\implies f(x)=Ae^{\int g(x)dx}
$$
如果我们另$h(x)=0$，那么还有一个更简洁的公式：
$$
f'(x)=cf(x)\implies f(x)=Ae^{cx}\tag{10.6}
$$
其中$A$为任意常数。

刚才只是一阶的情况耶，那么更高阶的呢？

先来一个最简单的
$$
f''(x)=-\omega^2f(x)\tag{10.7}
$$
不大熟悉？定睛一看，这不就是简谐运动的定义式么：
$$
a=x''=-kx\tag{10.8}
$$
很自然地写出
$$
f(x)=A\sin{(\omega t+\varphi)}\tag{10.9}
$$
这就O了。

太简单了？再来一个有点挑战性的：
$$
f''(x)+pf'(x)+qf(x)=0\tag{10.10}
$$
不认识？那么下面的估计八成会有印象：
$$
a_{n+2}+2a_{n+1}-3a_n=0\tag{10.11}
$$
怎么办呢？数列我们凑等比，这里我们可以凑$F'(x)=cF(x)$（看仔细了）：
$$
f''(x)+nf'(x)=[f'(x)+nf(x)]'=k[f'(x)+nf(x)]\tag{10.12}
$$
浅整理一下（给整理回原来的形式）
$$
f''(x)+(n-k)f'(x)-knf(x)=0\tag{10.13}
$$
对照一下原方程，让系数对应相等
$$
\begin{cases}
n-k=p\\
-kn=q
\end{cases}\tag{10.14}
$$
既然都看这种教程了，这样的方程应该很容易解吧：
$$
\begin{matrix}
\begin{cases}
k_1=\frac{-p-\sqrt{p^2-4q}}{2}\\
n_1=\frac{p-\sqrt{p^2-4q}}{2}
\end{cases}
&
\begin{cases}
k_2=\frac{-p+\sqrt{p^2-4q}}{2}\\
n_2=\frac{p+\sqrt{p^2-4q}}{2}
\end{cases}
\end{matrix}\tag{10.15}
$$
我们把解来的根给代回去，比如代回去第一组解，我们有
$$
[f'(x)+n_1f(x)]'=k_1[f'(x)+n_1f(x)]\tag{10.16}
$$
这个我们现在一定会解了。类似地代回去另一组解，我们得到了一个关于$f(x)$和$f'(x)$的一元二次方程，这时我们就能很容易地解出来$f(x)$啦！

等等，刚才我们假设的是我们那个带$k$、$n$的方程组是有实根的，如果没有实根呢？

欧拉公式硬焯呗～：

$$
f(x)=e^{-\frac{p}{2}(x-x_0)}\left\{\frac{\left[f'(x_0)+\frac p2f(x_0)\right]}{\sqrt{4q-p^2}}\sin{\left[\frac{\sqrt{4q-p^2}}2(x-x_0)\right]}-\frac{f(x_0)}{2}\cos{\left[\frac{\sqrt{4q-p^2}}2(x-x_0)\right]}\right\}\tag{10.17}
$$
（$x_0$为定义域内任一点）

等等等等，不要跑，不要跑，上面的结果，其实就是下面这个啦：
$$
f(x)=Ae^{-\frac{p}2x}\sin(\omega x+\varphi)\tag{10.18}
$$
三阶的、四阶的呢？不玩了不玩了，我们hold不住！

……关于一个函数的方程不够过瘾？好的～，再来一壶！
$$
\begin{cases}
f'(x)=2f(x)-g(x)~~(1)\\
g'(x)=2g(x)-f(x)~~(2)
\end{cases}\tag{10.19}
$$
用我们解二元一次方程组的加减消元法干它！

(1)+(2)得
$$
f'(x)+g'(x)=[f(x)+g(x)]'=f(x)+g(x)\tag{10.20}
$$
这个我们能解出来$f(x)+g(x)$的表达式。

(1)-(2)得
$$
f'(x)-g'(x)=3f(x)-3g(x)=[f(x)-g(x)]'\tag{10.21}
$$
用这个我们可以求解$f(x)-g(x)$。再次成功把微分方程变成一元二次方程！

> 例子似乎有点过于对称了，对一般的情形，我们还得凑“同构”，解关于系数的方程再干之。

我们还有代入消元法：
$$
\begin{cases}
f'(x)=f(x)\\
g'(x)=2g(x)+f(x)
\end{cases}\tag{10.22}
$$

$$
f(x)=Ae^x\tag{10.23}
$$

$$
g'(x)=g(x)+Ae^{x}\tag{10.24}
$$

$$
g(x)=e^{2x}\int e^{-2x}Ae^x\cdot dx=Ce^{2x}-Ae^{x}\tag{10.25}
$$

以及先行求解消元法
$$
\begin{cases}
f'(x)=g(x)f(x)\\
g'(x)=\ln f(x)
\end{cases}\tag{10.26}
$$

$$
f(x)=Ae^{\int g(x)dx}\tag{10.27}
$$

$$
g'(x)=\ln f(x)=\ln A+\int g(x)dx\tag{10.28}
$$

$$
g''(x)=g(x)\tag{10.29}
$$

$$
g(x)=Be^{\pm x}\tag{10.30}
$$

$$
f(x)=e^{g'(x)}=e^{\pm Be^{\pm x}}\tag{10.31}
$$

细心的读者可能已经发现，我们在用加减消元法消元和对二阶方程“降阶”的时候都是在凑“同构”。当然，这里还有更接近我们在导数题中用到的同构的方法：
$$
(M+m)x''=Mg-\frac{B^2L^2}{R}e^{-\frac{t}{RC}}\int e^{\frac{t}{RC}}x''\cdot dt\tag{10.32}
$$

$$
e^{\frac{t}{RC}}x''=\frac{Mg}{M+m}-\frac{B^2L^2}{(M+m)R}\int e^{\frac{t}{RC}}x''\cdot dt\tag{10.33}
$$

$$
F'(t)=\frac{Mg}{M+m}-\frac{B^2L^2}{(M+m)R}F(t)\tag{10.34}
$$

我们刚才看到的大都是线性微分方程，也就是，我们要求解的函数或者它的导数都没有被放到分母上或是其他奇怪的函数里面，也没有去给它套上多少次幂（除了一次幂）。与之相对的是非线性方程（前边只出现了一次）。对于非线性方程，我们在大部分时候只需要知道：
$$
f'(x)=k[f(x)]^\alpha\implies f(x)=\left[k(1-\alpha)x+b\right]^{\frac1{1-\alpha}}\tag{10.35}
$$
下面我们再给出来一堆用不多的求根公式：
$$
f'(x)=e^{f(x)}\implies f(x)=-\ln (-x)\tag{10.36}
$$

$$
f'(x)=\sqrt{1+[f(x)]^2}\implies f(x)=\cosh x=\frac{e^x+e^{-x}}{2}\tag{10.37}
$$

$$
f'(x)=\sqrt{1-[f(x)]^2},x\in\left[-\frac{\pi}2,\frac{\pi}2\right)\implies f(x)=\sin x\tag{10.38}
$$

最后，待定系数法坑太多，不讲；数列法几乎没用，不讲。

不到1700字完事！
